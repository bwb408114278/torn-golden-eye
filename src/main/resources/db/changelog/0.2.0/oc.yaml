databaseChangeLog:
  - changeSet:
      id: remove_oc_current_flag
      author: Bai
      changes:
        - dropColumn:
            tableName: torn_faction_oc
            columnName: has_current

  - changeSet:
      id: add_oc_benefit_table
      author: Bai
      changes:
      - createTable:
          tableName: torn_faction_oc_benefit
          columns:
            - column:
                name: id
                type: BIGINT
                autoIncrement: true
                constraints:
                  primaryKey: true
                  nullable: false
                remarks: "ID"
            - column:
                name: faction_id
                type: BIGINT
                constraints:
                  nullable: false
                remarks: "帮派ID"
            - column:
                name: oc_id
                type: BIGINT
                constraints:
                  nullable: false
                remarks: "OC ID"
            - column:
                name: oc_name
                type: VARCHAR(64)
                constraints:
                  nullable: false
                remarks: "OC名称"
            - column:
                name: oc_status
                type: VARCHAR(16)
                constraints:
                  nullable: false
                remarks: "OC状态"
            - column:
                name: oc_finish_time
                type: DATETIME
                constraints:
                  nullable: false
                remarks: "OC完成时间"
            - column:
                name: user_id
                type: BIGINT
                constraints:
                  nullable: false
                remarks: "用户ID"
            - column:
                name: user_position
                type: VARCHAR(16)
                constraints:
                  nullable: false
                remarks: "用户岗位"
            - column:
                name: user_pass_rate
                type: INT
                constraints:
                  nullable: false
                remarks: "用户成功率"
            - column:
                name: benefit_money
                type: BIGINT
                constraints:
                  nullable: false
                remarks: "收益金钱"
            - column:
                name: deleted
                type: TINYINT
                defaultValueComputed: '0'
                constraints:
                  nullable: false
                remarks: "删除标识 1为已删除"
            - column:
                name: create_time
                type: TIMESTAMP
                defaultValueComputed: CURRENT_TIMESTAMP
                constraints:
                  nullable: false
                remarks: "创建时间"
            - column:
                name: update_time
                type: TIMESTAMP
                defaultValueComputed: CURRENT_TIMESTAMP
                constraints:
                  nullable: false
                remarks: "更新时间"
      - addUniqueConstraint:
          tableName: torn_faction_oc_benefit
          columnNames: oc_id, user_id
          constraintName: uk_benefit_oc_user