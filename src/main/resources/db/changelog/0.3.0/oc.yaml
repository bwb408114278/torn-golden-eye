databaseChangeLog:
  - changeSet:
      id: add_oc_user_faction
      author: Bai
      changes:
        - addColumn:
            tableName: torn_faction_oc_user
            columns:
              - column:
                  name: faction_id
                  type: BIGINT
                  constraints:
                    nullable: false
                  defaultValue: "0"
                  remarks: "帮派ID"
        - sql:
            sql: |
              UPDATE torn_faction_oc_user ou
              SET faction_id = u.faction_id
              FROM torn_user u 
              WHERE ou.user_id = u.id;

  - changeSet:
      id: change_oc_skip_flag
      author: Bai
      changes:
        - addColumn:
            tableName: torn_faction_oc
            columns:
              - column:
                  name: has_skip_rotation
                  type: BOOLEAN
                  constraints:
                    nullable: false
                  defaultValue: "f"
                  remarks: "是否跳过轮转"
        - dropColumn:
            tableName: torn_faction_oc_notice
            columns:
              - column:
                  name: has_skip